/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java application project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.7/userguide/building_java_projects.html
 */

plugins {
  // Apply the application plugin to add support for building a CLI application in Java.
  id 'java'
  id 'application'
}

repositories {
  // Use JCenter for resolving dependencies.
  jcenter()
}

dependencies {
  // Use JUnit test framework.
  testImplementation 'junit:junit:4.13'
  testImplementation 'org.testng:testng:6.5.1'

  // This dependency is used by the application.
  implementation 'com.google.guava:guava:29.0-jre'
}

application {
  // Define the main class for the application.
  mainClass = 'learning.gradle.app.App'
}

test {
  // Set exception format to full
  // instead of default value 'short'.
  testLogging.exceptionFormat 'full'

  // We can also a script block to configure
  // the testLogging property.
  testLogging {
    // No log level specified so the
    // property is set on LIFECYCLE log level.
    // We can pass arguments to determine
    // which test events we want to see in the
    // command-line output.
    events 'passed'

    // Show logging events for test methods.
    minGranularity = 3

    // All valid values for the stackTrace output.
    stackTraceFilters 'groovy', 'entry_point', 'truncate'

    // Show System.out and System.err output
    // from the tests.
    showStandardStreams = true

    // Configure options for DEBUG log level.
    debug {
      events   'started'
    }
  }
}
